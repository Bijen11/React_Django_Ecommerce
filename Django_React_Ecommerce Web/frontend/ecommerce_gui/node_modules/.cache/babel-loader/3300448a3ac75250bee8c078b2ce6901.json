{"ast":null,"code":"var _jsxFileName = \"D:\\\\finalYear\\\\frontend\\\\ecommerce_gui\\\\src\\\\Components\\\\Shop.js\";\nimport React, { Component } from 'react';\nimport { List, Card, Button, Image, Typography, Collapse } from 'antd';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport { connect } from 'react-redux';\nimport { addCart, checkAuthenticated } from '../actions/auth';\nimport { fetchCart } from '../actions/cart';\nconst data = [];\nconst {\n  Paragraph\n} = Typography;\n\nclass ShopProduct extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: []\n    };\n\n    this.handleClick = slug => {\n      const token = localStorage.getItem('access');\n      const config = {\n        headers: {\n          'Authorization': 'JWT ' + token\n        }\n      };\n      axios.post(\"http://127.0.0.1:8000/api/addCart/\", {\n        slug\n      }, config).then(res => {\n        this.props.fetchCart();\n        console.log(res.data);\n      });\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://127.0.0.1:8000/api/\").then(res => {\n      this.setState({\n        products: res.data\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"section\", {\n      id: \"Shop\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(List, {\n      grid: {\n        gutter: 16,\n        column: 4\n      },\n      dataSource: this.state.products,\n      renderItem: item => /*#__PURE__*/React.createElement(List.Item, null, /*#__PURE__*/React.createElement(Card, {\n        title: item.title\n      }, /*#__PURE__*/React.createElement(Image, {\n        width: 200,\n        align: \"start\",\n        src: item.Product_Image\n      }), /*#__PURE__*/React.createElement(\"br\", null), \" \", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(Paragraph, {\n        ellipsis: {\n          rows: 2,\n          expandable: true,\n          symbol: 'more'\n        }\n      }, \"Product Description:\", item.Description), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"priceStyle\"\n      }, \"Price ($):\", item.price), /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        block: true,\n        onClick: () => this.handleClick(item.slug)\n      }, \"Buy\")))\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchCart: () => dispatch(fetchCart())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopProduct);","map":{"version":3,"sources":["D:/finalYear/frontend/ecommerce_gui/src/Components/Shop.js"],"names":["React","Component","List","Card","Button","Image","Typography","Collapse","axios","Cookies","connect","addCart","checkAuthenticated","fetchCart","data","Paragraph","ShopProduct","state","products","handleClick","slug","token","localStorage","getItem","config","headers","post","then","res","props","console","log","componentDidMount","get","setState","render","gutter","column","item","title","Product_Image","rows","expandable","symbol","Description","price","mapStateToProps","isAuthenticated","auth","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { List, Card , Button , Image, Typography, Collapse} from 'antd';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport { connect } from 'react-redux';\nimport { addCart,checkAuthenticated } from '../actions/auth';\nimport {fetchCart } from '../actions/cart';\n\n\n  \n    const data = [\n    \n    ];\n    const { Paragraph } = Typography;\n\n    \n  \n  \n  \n  \n\n \nclass ShopProduct extends Component {\n  \n\n  \n\n  state = {\n    products: []\n\n  }\n\n  componentDidMount(){\n   \n    axios.get(\"http://127.0.0.1:8000/api/\").then (res => {\n      this.setState({\n        products : res.data\n      });\n    \n\n    })\n    \n\n  }\n  handleClick= slug => {\n    const token = localStorage.getItem('access');\n\n    \n\n    const config = {\n      headers: {\n        'Authorization': 'JWT ' + token\n      }\n    };\n   \n   \n    axios.post(\"http://127.0.0.1:8000/api/addCart/\", {slug}, config).then (res => {\n      this.props.fetchCart();\n      console.log(res.data);\n      \n    \n\n    })\n      \n  }\n  \n  render() {\n\n    \n\n    return (\n      <section id=\"Shop\">\n\n      \n\n\n\n      \n      <div> \n        <List\n    grid={{ gutter: 16, column: 4 }}\n    dataSource={this.state.products}\n    renderItem={item => (\n      <List.Item>\n        <Card title={item.title}>\n              \n                    <Image \n                    width={200} align = \"start\"\n                  src={item.Product_Image}/> \n                  \n     <br/> <br/>\n\n     <Paragraph ellipsis={{ rows: 2, expandable: true, symbol: 'more' }}>\n       Product Description:\n     {item.Description} \n     </Paragraph><br/>\n      <div id=\"priceStyle\">Price ($):{item.price}</div> \n     \n     <Button type=\"primary\" block onClick={() => this.handleClick(item.slug)\n      \n    }> \n     Buy\n    </Button>\n         </Card>\n         \n      </List.Item>\n    )}\n      />\n      </div>\n   </section>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated\n});\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchCart: () => dispatch(fetchCart())\n  };\n};\n\nexport default connect(mapStateToProps,mapDispatchToProps)(ShopProduct);\n"]},"metadata":{},"sourceType":"module"}