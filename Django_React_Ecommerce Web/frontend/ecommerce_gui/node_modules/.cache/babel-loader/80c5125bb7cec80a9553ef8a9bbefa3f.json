{"ast":null,"code":"import * as actionsTypes from 'actionsTypes';\nimport reducer from '../reducers/auth';\nexport const authStart = () => {\n  return {\n    tyoe: actionsTypes.AUTH_START\n  };\n};\nexport const authSuccess = token => {\n  return {\n    tyoe: actionsTypes.AUTH_SUCCESS,\n    token: token\n  };\n};\nexport const authFail = error => {\n  return {\n    tyoe: actionsTypes.AUTH_FAIL,\n    error: error\n  };\n};\nexport const authLogin = (username, password) => {\n  return dispatch => {\n    dispatch(authStart());\n    axios.post('http://127.0.0.1:8000/accounts/login/', {\n      username: username,\n      password: password\n    }).then(res => {\n      const token = res.data.key;\n      localStorage.setItem('token', token);\n      dispatch(authSuccess(token));\n    }).catch(err => {\n      dispatch(authFail(err));\n    });\n  };\n};\nexport const logout = () => {\n  localStorage.removeItem('user');\n  return {\n    type: actionsTypes.AUTH_LOGOUT\n  };\n};\nexport const authSignup = (username, email, password1, password2) => {\n  return dispatch => {\n    dispatch(authStart());\n    axios.post('http://127.0.0.1:8000/accounts/signup/', {\n      username: username,\n      password1: password1,\n      password2: password2,\n      email: email\n    }).then(res => {\n      const token = res.data.key;\n      localStorage.setItem('token', token);\n      dispatch(authSuccess(token));\n    }).catch(err => {\n      dispatch(authFail(err));\n    });\n  };\n};","map":{"version":3,"sources":["D:/finalYear/frontend/ecommerce_gui/src/actions/auth.js"],"names":["actionsTypes","reducer","authStart","tyoe","AUTH_START","authSuccess","token","AUTH_SUCCESS","authFail","error","AUTH_FAIL","authLogin","username","password","dispatch","axios","post","then","res","data","key","localStorage","setItem","catch","err","logout","removeItem","type","AUTH_LOGOUT","authSignup","email","password1","password2"],"mappings":"AAAA,OAAO,KAAKA,YAAZ,MAA8B,cAA9B;AACA,OAAOC,OAAP,MAAoB,kBAApB;AAGA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAE3B,SAAO;AACHC,IAAAA,IAAI,EAAEH,YAAY,CAACI;AADhB,GAAP;AAGH,CALM;AAOP,OAAO,MAAMC,WAAW,GAAGC,KAAK,IAAI;AAEhC,SAAO;AACHH,IAAAA,IAAI,EAAEH,YAAY,CAACO,YADhB;AAEHD,IAAAA,KAAK,EAAGA;AAFL,GAAP;AAIH,CANM;AAQP,OAAO,MAAME,QAAQ,GAAGC,KAAK,IAAI;AAE7B,SAAO;AACHN,IAAAA,IAAI,EAAEH,YAAY,CAACU,SADhB;AAEHD,IAAAA,KAAK,EAAGA;AAFL,GAAP;AAIH,CANM;AAQP,OAAO,MAAME,SAAS,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAE7C,SAAOC,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACZ,SAAS,EAAV,CAAR;AACAa,IAAAA,KAAK,CAACC,IAAN,CAAW,uCAAX,EAAmD;AAE/CJ,MAAAA,QAAQ,EAAEA,QAFqC;AAG/CC,MAAAA,QAAQ,EAAEA;AAHqC,KAAnD,EAKCI,IALD,CAKMC,GAAG,IAAG;AACR,YAAMZ,KAAK,GAAGY,GAAG,CAACC,IAAJ,CAASC,GAAvB;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA+BhB,KAA/B;AACAQ,MAAAA,QAAQ,CAACT,WAAW,CAACC,KAAD,CAAZ,CAAR;AACH,KATD,EAUCiB,KAVD,CAUOC,GAAG,IAAI;AACVV,MAAAA,QAAQ,CAACN,QAAQ,CAACgB,GAAD,CAAT,CAAR;AACH,KAZD;AAaH,GAfD;AAgBH,CAlBM;AAqBP,OAAO,MAAMC,MAAM,GAAG,MAAK;AACvBJ,EAAAA,YAAY,CAACK,UAAb,CAAwB,MAAxB;AACA,SAAM;AACFC,IAAAA,IAAI,EAAG3B,YAAY,CAAC4B;AADlB,GAAN;AAIH,CANM;AAQP,OAAO,MAAMC,UAAU,GAAE,CAACjB,QAAD,EAAWkB,KAAX,EAAkBC,SAAlB,EAA8BC,SAA9B,KAA4C;AAEjE,SAAOlB,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACZ,SAAS,EAAV,CAAR;AACAa,IAAAA,KAAK,CAACC,IAAN,CAAW,wCAAX,EAAoD;AAEhDJ,MAAAA,QAAQ,EAAEA,QAFsC;AAGhDmB,MAAAA,SAAS,EAAEA,SAHqC;AAIhDC,MAAAA,SAAS,EAAEA,SAJqC;AAKhDF,MAAAA,KAAK,EAACA;AAL0C,KAApD,EAQCb,IARD,CAQMC,GAAG,IAAG;AACR,YAAMZ,KAAK,GAAGY,GAAG,CAACC,IAAJ,CAASC,GAAvB;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA+BhB,KAA/B;AACAQ,MAAAA,QAAQ,CAACT,WAAW,CAACC,KAAD,CAAZ,CAAR;AACH,KAZD,EAaCiB,KAbD,CAaOC,GAAG,IAAI;AACVV,MAAAA,QAAQ,CAACN,QAAQ,CAACgB,GAAD,CAAT,CAAR;AACH,KAfD;AAgBH,GAlBD;AAmBH,CArBM","sourcesContent":["import * as actionsTypes from 'actionsTypes'\r\nimport reducer from '../reducers/auth'\r\n\r\n\r\nexport const authStart = () => {\r\n\r\n    return {\r\n        tyoe: actionsTypes.AUTH_START,\r\n    }\r\n}\r\n\r\nexport const authSuccess = token => {\r\n\r\n    return {\r\n        tyoe: actionsTypes.AUTH_SUCCESS,\r\n        token : token\r\n    }\r\n}\r\n\r\nexport const authFail = error => {\r\n\r\n    return {\r\n        tyoe: actionsTypes.AUTH_FAIL,\r\n        error : error\r\n    }\r\n}\r\n\r\nexport const authLogin = (username, password) => {\r\n\r\n    return dispatch => {\r\n        dispatch(authStart());\r\n        axios.post('http://127.0.0.1:8000/accounts/login/',{\r\n\r\n            username: username,\r\n            password: password\r\n        })\r\n        .then(res =>{\r\n            const token = res.data.key;\r\n            localStorage.setItem('token' , token);\r\n            dispatch(authSuccess(token));\r\n        })\r\n        .catch(err => {\r\n            dispatch(authFail(err))\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const logout = () =>{\r\n    localStorage.removeItem('user');\r\n    return{\r\n        type : actionsTypes.AUTH_LOGOUT\r\n    }\r\n\r\n}\r\n\r\nexport const authSignup= (username, email, password1,  password2) => {\r\n\r\n    return dispatch => {\r\n        dispatch(authStart());\r\n        axios.post('http://127.0.0.1:8000/accounts/signup/',{\r\n\r\n            username: username,\r\n            password1: password1,\r\n            password2: password2,\r\n            email:email,\r\n\r\n        })\r\n        .then(res =>{\r\n            const token = res.data.key;\r\n            localStorage.setItem('token' , token);\r\n            dispatch(authSuccess(token));\r\n        })\r\n        .catch(err => {\r\n            dispatch(authFail(err))\r\n        })\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}